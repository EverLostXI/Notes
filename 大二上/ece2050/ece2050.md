# ECE2050数字电路

## 一 数字系统 C2

1. 进制转换

   4， 8， 10， 16进制之间的转换都通过2进制作为中继

   **10进制转二进制：整数部分除2取余，倒序排列；小数部分乘二取整，顺序排列**

   

2. 原码

   把二进制数的第一位作为这个数的符号，其他位数就是这个数的绝对值

   **注意：二进制第一位是1，所以二进制数第n数位的值是 $2^{n-1}$ 而非 $2^n$**

   问题：

   * 除了两个正数间的加法，对其他数的运算会产生各种问题
   * 0有两种表示方式（+0和-0）

   

3. 补码

   将一个数所有位置的值反转后+1，得到这个数的**相反数**表示

   * 0只有一种表示方法
   * 可以直接进行补码运算

   **补码的最小负值的表示方法与原码的最大值相同**

   例：4096原码：1 0000 0000 0000；反转后+1得到 -4096补码：1 0000 0000 0000

   

4. 补码运算

   只要运算结果没有超出补码的范围，就可以直接进行运算**（加减法计算时两个数的数位必须相同）**

   **规则：异号相加一定不会溢出；同号相加如果符号没变就没有溢出（多的进位舍弃）**

   * 乘除法都可以先对两个数的绝对值直接进行运算，再根据同正异负的原则修正结果的符号

   除法：把被除数不断加上除数的相反数，每次加就给商加一，**每次加的进位要舍去**

5. 二进制小数

   固定点数：Ua.b（无符号）或Qa.b（有符号）。a是小数点前的数位（包含第一位的符号），b是小数点后的数位

   浮点数：小数点固定位于最大的位数的右侧，类似于科学计数法

   （例：$228_{10}=1100100_{2}=1.11001\times 2^7$)<img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-09-10 232934.png" alt="Screenshot 2025-09-10 232934" style="zoom:80%;" />

   上图是IEEE754规范的单精度浮点数（float）的格式

   <small>（好像这个格式有不少神秘问题比如0.1 + 0.2 = 0.30000...04，不知道怎么回事，回头去查证下）</small>

   * Biased Exponent（偏移编码指数）：真实的指数 + 固定偏移量，变成一个永远是正数的值

     这是为了包含负数指数，但是直接用补码会导致比较操作变得复杂。

     8位编码可以储存0 ~255，而全0给到0和非正规数，全1留给NaN和无穷，剩下1 ~ 254，

     变成从-126 ~ +127（想得到真实指数只需要**存储值 - 127**（偏移量））
     
     

6. BCD码（Binary Coded Decimal）

   将每一个十进制数用二进制（4位）表示

   * BCD码加法：按位（4位）相加，如果某位的和大于9，则在这一位上加6，就可以得到正确的BCD码，随后在下一位进1

     为何加6：4位二进制数可以表示15个数，而BCD码只表示1 ~ 9，所以当超过9，加6就可以回到有效的BCD码范围内
     
     

7. 格雷码

   每两个相邻的数之间，用来表示它们的二进制数只有一个位数的区别（电路中4位的变化无法同时发生，因此可能导致错码）

   * 格雷码与二进制码的相互转换

     <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-09-11 010456.png" alt="Screenshot 2025-09-11 010456" style="zoom:80%;" />
     
     格雷码是一种*非加权值数制*：它的每个数字的表示方式不是简单的由每位上的数值按权重加和而成的
     
     

8. 错误码

   1. 奇偶校验位

      工作原理：以奇校验为例，在原始数据后增添一位数据，如果原始数据中的1有奇数个则增添0，否则增添1。偶校验正好与奇校验相反。

      缺点是无法检测偶数个比特出错的情况

   2. 循环冗余校验（CRC）

      <big>**注意：这里的除法用的是模二除法！！！**</big>

      工作原理：首先与接收方预先约定一个数（生成多项式），在原始数据末尾增添生成多项式数位-1个0，然后将这个数除以生成多项式，最后将增添的0替换为除法的余数（CRC校验码），就可以发送给接收方。

      接收方获得数据后将数据除以生成多项式，如果结果不为0，则发生了错误

      可以检测出多比特位的错误。缺点是没法直接纠正错误（有些编码方式同时还能纠错）

      

## 二 逻辑门 C3

1. 逻辑门

   性质：真值表 + 时序图

   基础逻辑门的逻辑表达式：(+是或，乘是与，$\oplus$是异或)

   NOT：$X=\overline A$

   AND：$X=AB$

   OR：$X=A+B$

   NAND：$X=\overline {AB}=\overline A +\overline B$

   NOR：$X=\overline {A+B}=\bar A \bar B$

   XOR：$X=A\oplus B=\bar AB+A\bar B$

   XNOR：$X=\overline {A\oplus B}=AB+\bar A\bar B$

   运算规则：

   ![Screenshot 2025-09-15 163630](D:\大学\笔记\大二上\用到的图片\Screenshot 2025-09-15 163630.png)

   

2. 逻辑电平

   1. 噪声：传输过程中导致信号变化的扰动

      * 为了减少甚至避免噪声的影响，输出信号和输入信号都有一定探测范围

   2. 噪声容限：输出的高电平范围的最小值 与 输入的高电平范围的最大值 的差值叫高噪声容限

      反过来，输出的低电平的最大值 与 输入的低电平的最大值 的差值叫低噪声容限

   3. 缓冲器性质：~~红石中继器？~~

      <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-09-18 185745.png" alt="Screenshot 2025-09-18 185745" style="zoom: 50%;" />

      <small>~~以防我又读不懂了~~：横轴是输入的电压，纵轴是输出的电压。理想状况是随着输入电压上升，输出电压稳如老狗，直到在输入电压达到V~DD~的一半的瞬间，输出电压可以直接达到V~DD~的最大值。然而实际上随着输入电压上升输出电压也会缓慢上升，等过了阈值输出电压的上升实际上也是有一定梯度的，因此.....具体数据自己看图吧。</small>

   4. 禁区：输入能检测的高电平最小值与低电平最大值之间的区域，无法确认为高电平或是低电平

      <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-09-18 184642.png" alt="Screenshot 2025-09-18 184642" style="zoom: 67%;" />

      <small>V~O/I~ ~H/L~：输入/输出 的 高/低电平 范围</small>  <small>V~DD~：正电源电压</small>  <small>NM~H/L~：高/低噪声容限</small>

3. V~DD~：7080年代的时候一般为5v，后面降低了（省电，防止烧件）

   要注意不同原件的工作电压不同，小心不要把元件烧了



## 三 布尔代数与逻辑化简 C4

1. 组合电路与时序电路：

   电路性能指标：功能性能 / 时间性能

   数字逻辑电路分为两种结构：

   1. 组合电路：电路中无记忆单元，无反馈延迟通道，输出仅由当前输入决定（第五章）

   2. 时序电路：有记忆单元，输出由当前或者历史输入决定（第六章）

   组合电路要满足的规则：

   1. 组成组合电路的每一个元件都只能是组合电路
   2. **每个结点要么是整个电路的输入，要么连接到一个其它元件的输出。**
   3. 电路中不存在环路

   

2. 布尔代数定理

   用于简化计算

   <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-09-22 160944.png" alt="Screenshot 2025-09-22 160944" style="zoom: 40%;" />

   具有对偶性：把0和1，and和or互换，定理仍然成立

   

3. 布尔运算

   基本运算：

   1. 加和，等同或运算

   2. 乘算，等同与运算

   3. 交换律、结合律和分配律

   具体的公式在第一节课的笔记里（那12条公式里面有好多是根据对偶性得出的）

   后三条的证明：可以完美归纳，可以用其他定理推导而出

   

4. 德摩根定律（代数）

   $\overline {XY}=\bar X + \bar Y$：非（X与Y）= 非X 或 非Y

   $\overline {X+Y}=\bar X\bar Y$：非（X或Y）= 非X 与 非Y

   简单来说，把上划线切开，就反转符号

   

5. 代数化简逻辑表达式

   用前面的12条

   比较重要的是后3条：

   1. $A+AB=A$

   2. $A+\bar AB =A+B$

      这两条用于消除冗余项

   3. $(A+B)(A+C)=A+BC$

      这个其实拆开就是这样，重点是可以反过来用。

      

6. 标准逻辑表达式：SOP与POS

   * 任何布尔等式都可以写成标准形式

   * 把任何式子补成标准式的方法：

     $A+\bar A=1$，所以可以把缺字符的最小项乘1得到完整的最小项

     SOP：$AB = AB(C+\bar C)=ABC+AB\bar C$
     
     POS：$(A+B) = (A+B+C\bar C)=(A+B+C)(A+B+\bar C)$
     
     **记得用这个：**$A+BC=(A+B)(A+C)$

   1. 基本概念：

      字符：变量，或者其补

      蕴含项：几个字符的积

      最小项：**包含所有变量**的积

      最大项：**包含所有变量**的和

   2. SOP（和之积式 / 或与式）

      先得到这个表达式的真值表，随后取出真值表中输出为1的行，把每一行对应的最小项加起来即可。

   3. POS（积之和式 / 与或式）

      取出真值表中输出为0的行，把每一行对应的最大项乘起来即可

      <big>**注意：对POS来说真值表输入为0的是真输入为1的是否**</big>

   4. 化简技巧

      * 任何项都可以复制（A = A + A），可以用来消除冗余项。
      
        

7. 卡诺图

   行和列都以格雷码排开，这样相邻两项就只有一项不同
   
   化简规则：
   
   1. 把相邻的1圈起来就是化简，圈只能是矩形，且里面的1的个数必须是2的倍数
   
   2. 卡诺图的边缘是左右，上下相连的
   
   大于4变量的卡诺图，可以看作是多维的，在相同位置的项也可以圈起来，不过必须也符合化简规则。
   
   * 带有随意项（Don't care）的卡诺图化简：
   
     只有当一个X可以帮助圈出一个完整的化简圈时，才圈上这个X
   
   
   

## 四 组合电路设计 C5

1. 基础组合电路

   用与门和或门搭的

   XOR和XNOR也可以用AND和OR实现（公式）

   

2. 奇偶校验码

   **偶校验码就是全部输入的和最低位上的数字**

   奇校验码：$Y=\overline{A\oplus B\oplus C...}$	偶校验码：$Y=A\oplus B\oplus C...$

   <small>~~设计逻辑：奇数+奇数=偶数；偶数+偶数=偶数；奇数+偶数=奇数~~</small>

   设计逻辑：XOR就是不进位二进制加法，所以把所有输出全部异或一遍，就是得到所有输出的和的最低位，那么这个位为0就是偶数，为1就是奇数

   

3. 组合电路与代数表示

   任何逻辑表达式都可以搭出对应的电路

   将逻辑表达式化简为最简形式之后的电路也对应最简（使用的逻辑门最少）

   带有随意项的

   

4. NAND与NOR的性质

   四个基本逻辑门之间可以相互转换（德摩根定律）

   任何逻辑门都可以只用NAND或者只用NOR表示

   NAND = negative-OR （$\overline {AB}=(\bar A+\bar B)$

   NOR = negative-AND （$\overline {A+B}=\bar A\bar B$）

   

5. 德摩根定律

   推泡泡（对偶逻辑门转换）：把一个门的输入或者输出的泡泡挪到它的另一端，再把它的逻辑换成对偶的（AND <--> OR）

   从最终的输出的泡泡往回推，泡泡相遇可以抵消



## 五 组合电路部件 C6

1. 半加器与全加器

   1. 半加器

      <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-10-15 153952.png" alt="Screenshot 2025-10-15 153952" style="zoom:50%;" />

      XOR输出本位，AND输出进位

      **可以看到XOR逻辑可以表示二进制加法**

      

   2. 全加器

      <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-10-15 154230.png" alt="Screenshot 2025-10-15 154230" style="zoom:50%;" />

      全加器实际上是两个半加器**和一个或门**的组合

      <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-10-15 154326.png" alt="Screenshot 2025-10-15 154326" style="zoom:50%;" />

      逻辑是：先计算两个数的和与进位，随后再计算这个和与上一个进位的和和进位。

      ~将第一个半加器得到的和与输入的进位作为下一个半加器的两个输入得到最终三个数的总和，再将两个半加器的进位或作为全加器的进位（两个进位不会同时为1）~

      串联多个全加器可以得到并行加法器

      例：级联两个4位加法器实现8位数相加

      低位加法器进位输入（C~0~）接地，进位输出（C~4~）连接到高位加法器。

      <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-10-15 160424.png" alt="Screenshot 2025-10-15 160424" style="zoom:50%;" />

      

   3. 并行加法器

      1. 行波进位加法器

         直接串联的方式，由于下一位的计算需要等待上一位的进位，整个电路的传播延迟会很大

      2. 超前进位加法器

         想办法直接算出某一位有没有进位

         公式：C~out~=G+P·C~in~

         逻辑：对于某一位数，有AB两个输入，以及上一位的进位C。接下来统计它能进位的情况：第一个是AB都为1，第二个是输入的进位为1，并且AB中有一个为1。公式中，第一个情况就是G，第二个情况是P·C~in~。C~in~就是上一位的C~out~，所以这是个层层递进的算法，但是最终确实可以只通过初始输入和进位来算出每一位的进位。
         
         电路：G~n~=A~n~B~n~; P~n~=A~n~+B~n~; 这一位的C~out~就是下一位的C~in~
         
         

2. 比较器

   * 判断相等：用XNOR，如果两位相等输出1。对于更多位的二进制数，只需要按位比较，再把每位的结果进行与运算即可。
   * 判断大小：从高位向低位判断，如果相等，则判断下一位，否则可以直接输出结果。
   * 多个比较器可以串联在一起来比较更大的数

   IC：74HC85

   ​	四位二进制输入，两个数字，三位串联输入（上一个比较器判断的大小），三位输出（大于还是小于）

   ​	<img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-11-01 235751.png" alt="Screenshot 2025-11-01 235751" style="zoom:50%;" />

   

3. 编码器与解码器

   这个“码”指的就是非二进制数，所以编码器把二进制数转为非二进制数，而解码器把非二进制数转为二进制数

   1. 编码器：将一位输入（表示的十进制数）转换为多位二进制数输出

      设计逻辑：每个输出位对应一个或门，如果一个十进制数对应的二进制数在这个位是1，则把这个输入或到这一位的输出

      最高位编码器：只输出最大的输入数对应的二进制数

      设计逻辑：真值表最高位以下的项都是随意项

   2. 解码器：将二进制输入转换为十进制输出

      设计逻辑：每个输出都是一个与门，把输入的数每一位对应的1或0接入这个与门

      * **用解码器和或门可以表示任意标准逻辑表达式**
      * 解码器每一位输出都对应一个二进制输入，也就对应到真值表上的一行，把需要的行或起来就是
      
      IC：74HC154 四到十六解码器
      
      2个控制输入，如果同为低，则输出的1为高，否则输出的1为低
      
      4个输入，16个输出.
      
      可以将两个串联起来形成五到三十二解码器
      
      串联的时候，将两个控制输入作为第五位数，低级的元件直接输入，高级的元件输入反转
      
      <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-11-02 122859.png" alt="Screenshot 2025-11-02 122859" style="zoom: 67%;" />

4. 多路选择器MUX与多路分配器deMUX

   1. 多路选择器

      通过输入控制信号，来控制具体哪一路的输入可以通过元件

      输入的控制信号是一个二进制数，它的表示范围决定了数据输入可以有几路

      电路逻辑：每一路输出最后都是一个与门，这个与门除了接入这一路的数据输入以外，还要接入对应位置的控制输入，比如第二路的就要接入10的控制信号

      <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-11-02 124229.png" alt="Screenshot 2025-11-02 124229" style="zoom: 50%;" />

   ​	两位控制输入的mux也可以看作是三个一位控制输入的mux串联

   <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-11-02 124201.png" alt="Screenshot 2025-11-02 124201" style="zoom: 50%;" />

   ​	用多路选择器也可以表示标准逻辑表达式

   ​	辨析：多路选择器与解码器表示逻辑表达式的方法

   <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-11-02 124754.png" alt="Screenshot 2025-11-02 124754" style="zoom: 50%;" />

   <img src="D:\大学\笔记\大二上\用到的图片\Screenshot 2025-11-02 124846.png" alt="Screenshot 2025-11-02 124846" style="zoom:50%;" />

   ​	mux：通过给控制输入指定信号来控制输出的逻辑表达式

   ​	解码器：通过把输出中需要的项或起来控制输出的逻辑表达式

   2. 多路复用器：

      一位数据输入，多位控制输入

      控制输入决定数据输入要通过哪一位输出

5. 延迟

   延迟有两种：

   1. 传播延迟：从输入到输出正确信号之间的延时
   2. 污染延迟：从输入到输出信号开始发生变化的延时

   产生延迟的原因：

   * 电路中电容和电阻的阻碍
   * 光速的限制

   t~pd~和t~cd~有差异的可能原因：

   1. 上升延迟与下降延迟不同
   2. 有多个输入或输出，有些可能比其他的更快
   3. 电路温度越高速度越慢

   最长路径与最短路径：

   计算一条路径的延迟只要把这条路上所有元件的延迟加起来就好

   故障

   表现：一次输入变化导致输出变化多次（毛刺）

   修复：卡诺图打圈

   

## 六 时序电路设计 C7

1. 状态元件

   名词解释：

   * 状态：与电路后续行为有关的所有历史输入
   * 锁存器Latch
   * 触发器Flip-flop
   * 同步时序电路：把触发器作为时钟的时序电路

   特点：

   1. 事件发生有顺序
   2. 有缓存
   3. 可以把输出重新输入来存储信息

2. 双稳态电路

   
